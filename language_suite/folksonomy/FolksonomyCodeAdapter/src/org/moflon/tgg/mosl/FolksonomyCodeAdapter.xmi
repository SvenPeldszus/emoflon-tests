<?xml version="1.0" encoding="ASCII"?>
<tgg:TripleGraphGrammarFile xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tgg="http://www.moflon.org/ide/tgg/mosl/TGG">
  <schema name="FolksonomyCodeAdapter">
    <imports name="platform:/plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore"/>
    <imports name="platform:/plugin/MocaTree/model/MocaTree.ecore"/>
    <sourceTypes href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#/"/>
    <targetTypes href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#/"/>
    <correspondenceTypes name="FolksonomyToFolder">
      <source href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Folksonomy"/>
      <target href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Folder"/>
    </correspondenceTypes>
    <correspondenceTypes name="UserToNode">
      <source href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//User"/>
      <target href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
    </correspondenceTypes>
    <correspondenceTypes name="ItemToNode">
      <source href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Item"/>
      <target href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
    </correspondenceTypes>
    <attributeCondDefs name="eq">
      <params type=""/>
      <params index="1" type=""/>
      <allowedSyncAdornments value="FB"/>
      <allowedSyncAdornments value="BF"/>
      <allowedSyncAdornments value="BB"/>
      <allowedGenAdornments value="FB"/>
      <allowedGenAdornments value="BF"/>
      <allowedGenAdornments value="FF"/>
      <allowedGenAdornments value="BB"/>
    </attributeCondDefs>
  </schema>
  <rules name="CreateActivity" supertypes="//@rules.9" schema="//@schema">
    <using importedNamespace="FolksonomyCodeAdapter.*"/>
    <sourcePatterns name="item">
      <op value="++"/>
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Activity"/>
    </sourcePatterns>
    <targetPatterns name="itemFile">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//File"/>
      <attributeConstraints op=" == ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ActivityHierarchy.dat&quot;"/>
      </attributeConstraints>
    </targetPatterns>
  </rules>
  <rules name="IgnoreResourceActivity" schema="//@schema">
    <using importedNamespace="FolksonomyCodeAdapter.*"/>
    <sourcePatterns name="activity">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Activity"/>
    </sourcePatterns>
    <sourcePatterns name="resource">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Resource"/>
      <linkVariablePatterns target="//@rules.1/@sourcePatterns.0">
        <op value="++"/>
        <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Resource/assignedActivities"/>
      </linkVariablePatterns>
    </sourcePatterns>
  </rules>
  <rules name="AbstractCreateItemResourceUser2" abstractRule="true" schema="//@schema">
    <using importedNamespace="FolksonomyCodeAdapter.*"/>
    <sourcePatterns name="item">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Item"/>
    </sourcePatterns>
    <sourcePatterns name="user">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//User"/>
      <linkVariablePatterns target="//@rules.2/@sourcePatterns.3">
        <op value="++"/>
        <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//User/items"/>
      </linkVariablePatterns>
      <linkVariablePatterns target="//@rules.2/@sourcePatterns.0">
        <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//User/items"/>
      </linkVariablePatterns>
      <linkVariablePatterns target="//@rules.2/@sourcePatterns.2">
        <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//User/folksonomy"/>
      </linkVariablePatterns>
    </sourcePatterns>
    <sourcePatterns name="folksonomy">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Folksonomy"/>
    </sourcePatterns>
    <sourcePatterns name="resource">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Resource"/>
      <linkVariablePatterns target="//@rules.2/@sourcePatterns.2">
        <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Item/folksonomy"/>
      </linkVariablePatterns>
    </sourcePatterns>
    <targetPatterns name="entry">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ENTRY&quot;"/>
      </attributeAssignments>
      <linkVariablePatterns target="//@rules.2/@targetPatterns.4">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Text/parentNode"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="resourceNode">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <linkVariablePatterns target="//@rules.2/@targetPatterns.0">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Text/parentNode"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="activityResourceUser">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//File"/>
      <attributeConstraints op=" == ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ActivityResourceUser.dat&quot;"/>
      </attributeConstraints>
    </targetPatterns>
    <targetPatterns name="userNode">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/index"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="2"/>
      </attributeAssignments>
      <linkVariablePatterns target="//@rules.2/@targetPatterns.0">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Text/parentNode"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="activityResourceUserRoot">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeConstraints op=" == ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ACTIVITY-RESOURCE-USER&quot;"/>
      </attributeConstraints>
      <linkVariablePatterns target="//@rules.2/@targetPatterns.2">
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node/file"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="itemNode">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <linkVariablePatterns target="//@rules.2/@targetPatterns.0">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Text/parentNode"/>
      </linkVariablePatterns>
    </targetPatterns>
    <correspondencePatterns name="itemToNode" type="//@schema/@correspondenceTypes.2" source="//@rules.2/@sourcePatterns.3" target="//@rules.2/@targetPatterns.4"/>
    <attrConditions name="//@schema/@attributeCondDefs.0">
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.2/@sourcePatterns.3" attribute="label"/>
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.2/@targetPatterns.1" attribute="name"/>
    </attrConditions>
    <attrConditions name="//@schema/@attributeCondDefs.0">
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.2/@sourcePatterns.1" attribute="name"/>
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.2/@targetPatterns.3" attribute="name"/>
    </attrConditions>
    <attrConditions name="//@schema/@attributeCondDefs.0">
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.2/@sourcePatterns.0" attribute="label"/>
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.2/@targetPatterns.5" attribute="name"/>
    </attrConditions>
  </rules>
  <rules name="CreateResource" supertypes="//@rules.9" schema="//@schema">
    <using importedNamespace="FolksonomyCodeAdapter.*"/>
    <sourcePatterns name="item">
      <op value="++"/>
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Resource"/>
    </sourcePatterns>
    <targetPatterns name="itemFile">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//File"/>
      <attributeConstraints op=" == ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ActivityResourceUser.dat&quot;"/>
      </attributeConstraints>
    </targetPatterns>
  </rules>
  <rules name="CreateTag" supertypes="//@rules.9" schema="//@schema">
    <using importedNamespace="FolksonomyCodeAdapter.*"/>
    <sourcePatterns name="item">
      <op value="++"/>
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Tag"/>
    </sourcePatterns>
    <targetPatterns name="itemFile">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//File"/>
      <attributeConstraints op=" == ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ResourceTagUser.dat&quot;"/>
      </attributeConstraints>
    </targetPatterns>
  </rules>
  <rules name="CreateFriendship" schema="//@schema">
    <using importedNamespace="FolksonomyCodeAdapter.*"/>
    <sourcePatterns name="user">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//User"/>
      <linkVariablePatterns target="//@rules.5/@sourcePatterns.1">
        <op value="++"/>
        <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//User/friends"/>
      </linkVariablePatterns>
    </sourcePatterns>
    <sourcePatterns name="friend">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//User"/>
    </sourcePatterns>
    <targetPatterns name="entry">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ENTRY&quot;"/>
      </attributeAssignments>
      <linkVariablePatterns target="//@rules.5/@targetPatterns.2">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Text/parentNode"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="userNode">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/index"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="0"/>
      </attributeAssignments>
      <linkVariablePatterns target="//@rules.5/@targetPatterns.0">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Text/parentNode"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="friends">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
    </targetPatterns>
    <targetPatterns name="friendNode">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/index"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="1"/>
      </attributeAssignments>
      <linkVariablePatterns target="//@rules.5/@targetPatterns.0">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Text/parentNode"/>
      </linkVariablePatterns>
    </targetPatterns>
    <correspondencePatterns name="friendToNode" type="//@schema/@correspondenceTypes.1" source="//@rules.5/@sourcePatterns.1" target="//@rules.5/@targetPatterns.2"/>
    <correspondencePatterns name="userToNode" type="//@schema/@correspondenceTypes.1" source="//@rules.5/@sourcePatterns.0" target="//@rules.5/@targetPatterns.2"/>
    <attrConditions name="//@schema/@attributeCondDefs.0">
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.5/@sourcePatterns.1" attribute="name"/>
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.5/@targetPatterns.3" attribute="name"/>
    </attrConditions>
    <attrConditions name="//@schema/@attributeCondDefs.0">
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.5/@sourcePatterns.0" attribute="name"/>
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.5/@targetPatterns.1" attribute="name"/>
    </attrConditions>
  </rules>
  <rules name="CreateActivityResourceUser" supertypes="//@rules.2" schema="//@schema">
    <using importedNamespace="FolksonomyCodeAdapter.*"/>
    <sourcePatterns name="resource">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Resource"/>
      <linkVariablePatterns target="//@rules.6/@sourcePatterns.1">
        <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Resource/assignedActivities"/>
      </linkVariablePatterns>
    </sourcePatterns>
    <sourcePatterns name="item">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Activity"/>
    </sourcePatterns>
    <targetPatterns name="itemNode">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/index"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="0"/>
      </attributeAssignments>
    </targetPatterns>
    <targetPatterns name="resourceNode">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/index"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="1"/>
      </attributeAssignments>
    </targetPatterns>
  </rules>
  <rules name="CreateSubActivity" schema="//@schema">
    <using importedNamespace="FolksonomyCodeAdapter.*"/>
    <sourcePatterns name="sub">
      <op value="++"/>
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Activity"/>
    </sourcePatterns>
    <sourcePatterns name="activity">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Activity"/>
      <linkVariablePatterns target="//@rules.7/@sourcePatterns.0">
        <op value="++"/>
        <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Activity/subActivities"/>
      </linkVariablePatterns>
    </sourcePatterns>
    <targetPatterns name="parent">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/index"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="0"/>
      </attributeAssignments>
      <linkVariablePatterns target="//@rules.7/@targetPatterns.2">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Text/parentNode"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="root">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
    </targetPatterns>
    <targetPatterns name="entry">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ENTRY&quot;"/>
      </attributeAssignments>
      <linkVariablePatterns target="//@rules.7/@targetPatterns.1">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Text/parentNode"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="child">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/index"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="1"/>
      </attributeAssignments>
      <linkVariablePatterns target="//@rules.7/@targetPatterns.2">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Text/parentNode"/>
      </linkVariablePatterns>
    </targetPatterns>
    <correspondencePatterns name="activityToNode" type="//@schema/@correspondenceTypes.2" source="//@rules.7/@sourcePatterns.1" target="//@rules.7/@targetPatterns.1"/>
    <correspondencePatterns name="subActivityToNode" type="//@schema/@correspondenceTypes.2" source="//@rules.7/@sourcePatterns.0" target="//@rules.7/@targetPatterns.1">
      <op value="++"/>
    </correspondencePatterns>
    <attrConditions name="//@schema/@attributeCondDefs.0">
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.7/@sourcePatterns.1" attribute="label"/>
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.7/@targetPatterns.0" attribute="name"/>
    </attrConditions>
    <attrConditions name="//@schema/@attributeCondDefs.0">
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.7/@sourcePatterns.0" attribute="label"/>
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.7/@targetPatterns.3" attribute="name"/>
    </attrConditions>
  </rules>
  <rules name="CreateFolder" schema="//@schema">
    <using importedNamespace="FolksonomyCodeAdapter.*"/>
    <sourcePatterns name="folksonomy">
      <op value="++"/>
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Folksonomy"/>
    </sourcePatterns>
    <targetPatterns name="root">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ACTIVITY-ACTIVITY&quot;"/>
      </attributeAssignments>
      <linkVariablePatterns target="//@rules.8/@targetPatterns.7">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node/file"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="UserUser">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//File"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;UserUser.dat&quot;"/>
      </attributeAssignments>
    </targetPatterns>
    <targetPatterns name="activityResourceUserRoot">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ACTIVITY-RESOURCE-USER&quot;"/>
      </attributeAssignments>
      <linkVariablePatterns target="//@rules.8/@targetPatterns.5">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node/file"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="friends">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;USER-USER&quot;"/>
      </attributeAssignments>
      <linkVariablePatterns target="//@rules.8/@targetPatterns.1">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node/file"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="activityUserRoot">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ACTIVITY-USER&quot;"/>
      </attributeAssignments>
      <linkVariablePatterns target="//@rules.8/@targetPatterns.6">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node/file"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="ActivityResourceUser">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//File"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ActivityResourceUser.dat&quot;"/>
      </attributeAssignments>
    </targetPatterns>
    <targetPatterns name="ActivityUser">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//File"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ActivityUser.dat&quot;"/>
      </attributeAssignments>
    </targetPatterns>
    <targetPatterns name="ActivityHierarchy">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//File"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ActivityHierarchy.dat&quot;"/>
      </attributeAssignments>
    </targetPatterns>
    <targetPatterns name="resourceTagUserNode">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;RESOURCE-TAG-USER&quot;"/>
      </attributeAssignments>
      <linkVariablePatterns target="//@rules.8/@targetPatterns.10">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node/file"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="folder">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Folder"/>
      <linkVariablePatterns target="//@rules.8/@targetPatterns.5">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Folder/file"/>
      </linkVariablePatterns>
      <linkVariablePatterns target="//@rules.8/@targetPatterns.10">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Folder/file"/>
      </linkVariablePatterns>
      <linkVariablePatterns target="//@rules.8/@targetPatterns.6">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Folder/file"/>
      </linkVariablePatterns>
      <linkVariablePatterns target="//@rules.8/@targetPatterns.1">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Folder/file"/>
      </linkVariablePatterns>
      <linkVariablePatterns target="//@rules.8/@targetPatterns.7">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Folder/file"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="ResourceTagUser">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//File"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ResourceTagUser.dat&quot;"/>
      </attributeAssignments>
    </targetPatterns>
    <correspondencePatterns name="folksonomyToFolder" type="//@schema/@correspondenceTypes.0" source="//@rules.8/@sourcePatterns.0" target="//@rules.8/@targetPatterns.9">
      <op value="++"/>
    </correspondencePatterns>
    <attrConditions name="//@schema/@attributeCondDefs.0">
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.8/@sourcePatterns.0" attribute="name"/>
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.8/@targetPatterns.9" attribute="name"/>
    </attrConditions>
  </rules>
  <rules name="CreateItem" schema="//@schema">
    <using importedNamespace="FolksonomyCodeAdapter.*"/>
    <sourcePatterns name="item">
      <op value="++"/>
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Item"/>
      <linkVariablePatterns target="//@rules.9/@sourcePatterns.1">
        <op value="++"/>
        <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Item/folksonomy"/>
      </linkVariablePatterns>
    </sourcePatterns>
    <sourcePatterns name="folksonomy">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Folksonomy"/>
    </sourcePatterns>
    <targetPatterns name="itemFile">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//File"/>
    </targetPatterns>
    <targetPatterns name="root">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <linkVariablePatterns target="//@rules.9/@targetPatterns.0">
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node/file"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="folder">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Folder"/>
      <linkVariablePatterns target="//@rules.9/@targetPatterns.0">
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Folder/file"/>
      </linkVariablePatterns>
    </targetPatterns>
    <correspondencePatterns name="folksonomyToFolder" type="//@schema/@correspondenceTypes.0" source="//@rules.9/@sourcePatterns.1" target="//@rules.9/@targetPatterns.2"/>
    <correspondencePatterns name="itemToNode" type="//@schema/@correspondenceTypes.2" source="//@rules.9/@sourcePatterns.0" target="//@rules.9/@targetPatterns.1">
      <op value="++"/>
    </correspondencePatterns>
  </rules>
  <rules name="CreateUser" schema="//@schema">
    <using importedNamespace="FolksonomyCodeAdapter.*"/>
    <sourcePatterns name="folksonomy">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Folksonomy"/>
    </sourcePatterns>
    <sourcePatterns name="user">
      <op value="++"/>
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//User"/>
      <linkVariablePatterns target="//@rules.10/@sourcePatterns.0">
        <op value="++"/>
        <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//User/folksonomy"/>
      </linkVariablePatterns>
    </sourcePatterns>
    <targetPatterns name="folder">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Folder"/>
      <linkVariablePatterns target="//@rules.10/@targetPatterns.1">
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Folder/file"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="userUser">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//File"/>
      <attributeConstraints op=" == ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;UserUser.dat&quot;"/>
      </attributeConstraints>
    </targetPatterns>
    <targetPatterns name="friends">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <linkVariablePatterns target="//@rules.10/@targetPatterns.1">
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node/file"/>
      </linkVariablePatterns>
    </targetPatterns>
    <correspondencePatterns name="userToNode" type="//@schema/@correspondenceTypes.1" source="//@rules.10/@sourcePatterns.1" target="//@rules.10/@targetPatterns.2">
      <op value="++"/>
    </correspondencePatterns>
    <correspondencePatterns name="folksonomyToFolder" type="//@schema/@correspondenceTypes.0" source="//@rules.10/@sourcePatterns.0" target="//@rules.10/@targetPatterns.0"/>
  </rules>
  <rules name="IgnoreResourceTag" schema="//@schema">
    <using importedNamespace="FolksonomyCodeAdapter.*"/>
    <sourcePatterns name="item">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Tag"/>
      <linkVariablePatterns target="//@rules.11/@sourcePatterns.1">
        <op value="++"/>
        <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Tag/resources"/>
      </linkVariablePatterns>
    </sourcePatterns>
    <sourcePatterns name="resource">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Resource"/>
    </sourcePatterns>
  </rules>
  <rules name="IgnoreUserItem" schema="//@schema">
    <using importedNamespace="FolksonomyCodeAdapter.*"/>
    <sourcePatterns name="user">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//User"/>
      <linkVariablePatterns target="//@rules.12/@sourcePatterns.1">
        <op value="++"/>
        <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//User/items"/>
      </linkVariablePatterns>
    </sourcePatterns>
    <sourcePatterns name="item">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Item"/>
    </sourcePatterns>
  </rules>
  <rules name="CreateActivityUser" schema="//@schema">
    <using importedNamespace="FolksonomyCodeAdapter.*"/>
    <sourcePatterns name="activity">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Activity"/>
    </sourcePatterns>
    <sourcePatterns name="user">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//User"/>
      <linkVariablePatterns target="//@rules.13/@sourcePatterns.0">
        <op value="++"/>
        <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//User/items"/>
      </linkVariablePatterns>
    </sourcePatterns>
    <targetPatterns name="usesActivityFile">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//File"/>
    </targetPatterns>
    <targetPatterns name="folder">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Folder"/>
      <linkVariablePatterns target="//@rules.13/@targetPatterns.0">
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Folder/file"/>
      </linkVariablePatterns>
      <linkVariablePatterns target="//@rules.13/@targetPatterns.4">
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Folder/file"/>
      </linkVariablePatterns>
      <linkVariablePatterns target="//@rules.13/@targetPatterns.8">
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Folder/file"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="activityUserRoot">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeConstraints op=" == ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ACTIVITY-USER&quot;"/>
      </attributeConstraints>
      <linkVariablePatterns target="//@rules.13/@targetPatterns.0">
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node/file"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="activitiesNode">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <linkVariablePatterns target="//@rules.13/@targetPatterns.8">
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node/file"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="usersFile">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//File"/>
    </targetPatterns>
    <targetPatterns name="userNode">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/index"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="0"/>
      </attributeAssignments>
      <linkVariablePatterns target="//@rules.13/@targetPatterns.9">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Text/parentNode"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="usersNode">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <linkVariablePatterns target="//@rules.13/@targetPatterns.4">
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node/file"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="activityNode">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/index"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="1"/>
      </attributeAssignments>
      <linkVariablePatterns target="//@rules.13/@targetPatterns.9">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Text/parentNode"/>
      </linkVariablePatterns>
    </targetPatterns>
    <targetPatterns name="activitiesFile">
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//File"/>
    </targetPatterns>
    <targetPatterns name="entry">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/name"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="&quot;ENTRY&quot;"/>
      </attributeAssignments>
      <linkVariablePatterns target="//@rules.13/@targetPatterns.2">
        <op value="++"/>
        <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Text/parentNode"/>
      </linkVariablePatterns>
    </targetPatterns>
    <correspondencePatterns name="activityToNode" type="//@schema/@correspondenceTypes.2" source="//@rules.13/@sourcePatterns.0" target="//@rules.13/@targetPatterns.3"/>
    <correspondencePatterns name="userToNode" type="//@schema/@correspondenceTypes.1" source="//@rules.13/@sourcePatterns.1" target="//@rules.13/@targetPatterns.6"/>
    <attrConditions name="//@schema/@attributeCondDefs.0">
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.13/@sourcePatterns.0" attribute="label"/>
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.13/@targetPatterns.7" attribute="name"/>
    </attrConditions>
    <attrConditions name="//@schema/@attributeCondDefs.0">
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.13/@sourcePatterns.1" attribute="name"/>
      <values xsi:type="tgg:AttributeVariable" objectVar="//@rules.13/@targetPatterns.5" attribute="name"/>
    </attrConditions>
  </rules>
  <rules name="CreateResourceTagUser" supertypes="//@rules.2" schema="//@schema">
    <using importedNamespace="FolksonomyCodeAdapter.*"/>
    <sourcePatterns name="item">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Tag"/>
      <linkVariablePatterns target="//@rules.14/@sourcePatterns.1">
        <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Tag/resources"/>
      </linkVariablePatterns>
    </sourcePatterns>
    <sourcePatterns name="resource">
      <type href="../../../../../../../plugin/FolksonomyLanguage/model/FolksonomyLanguage.ecore#//Resource"/>
    </sourcePatterns>
    <targetPatterns name="itemNode">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/index"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="1"/>
      </attributeAssignments>
    </targetPatterns>
    <targetPatterns name="resourceNode">
      <op value="++"/>
      <type href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//Node"/>
      <attributeAssignments op=" := ">
        <attribute href="../../../../../../../plugin/MocaTree/model/MocaTree.ecore#//TreeElement/index"/>
        <valueExp xsi:type="tgg:LiteralExpression" value="0"/>
      </attributeAssignments>
    </targetPatterns>
  </rules>
</tgg:TripleGraphGrammarFile>
